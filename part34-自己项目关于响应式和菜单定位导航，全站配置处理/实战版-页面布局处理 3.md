# 页面的布局处理 3



## 1. 关于访问首页跳转到默认页面

在访问首页，我们不能够直接把新页面写死，一般来有两种做法：

- 1： 在前端进行配置 在src的目录下，新建一个整个系统的配置js文件如下。

  - src/setting.js 内容下：

    ```js
    export default {
      // 配置首页访问的时候，自动跳转到你指定defaultPage
      defaultPage: {name:"DashBoard",replace:true},
      // 指定菜单导航的个数
      menuCount: 10,
    }
    
    ```

  - 然后在需要的地方进行导入使用即可。

    比如：router/index.js 修改如下：

    ```js
    import { createRouter, createWebHashHistory } from 'vue-router'
    import NProgress from 'nprogress'
    // 获取状态管理的token
    import { useUserStore } from '@/stores/user.js'
    // 显示右上角螺旋加载提示
    NProgress.configure({ showSpinner: true })
    import Layout from "@/layout/Index.vue";
    import PageMain from "@/layout/components/PageMain.vue";
    import { menuTreeData } from '@/mock/data.js'
    import settings from '@/settings.js' //-------------------------------------新增代码
    
    
    const router = createRouter({
      history: createWebHashHistory(import.meta.env.BASE_URL),
      routes: [
        {
          path: "/",
          name: "Home",
          component: Layout
        },
        {
          path: '/login',
          name: 'Login',
          meta: { title: "login" },
          component: () => import('@/views/Login.vue')
        }
      ]
    })
    
    const router404 = {
      path: '/:pathMatch(.*)*',
      name: 'NotFound',
      component: () => import('@/views/error/NotFound.vue')
    }
    
    router.beforeEach(async (to) => {
      //开启进度条
      NProgress.start()
      const userStore = useUserStore();
    
      // 如果当前是登录状态，用户访问又是登录，属于无用操作，应该跳转到首页去
      if(to.path === '/login'){
        if(userStore.isLogin){
            return {name:"Home"}
        }
        return true;
      }
    
      // 判断是否登录
      if (!userStore.isLogin && to.name !== 'Login') {
        // 这里的query就是为了记录用户最后一次访问的路径，这个路径是通过to的参数获取
        // 后续在登录成功以后，就可以根据这个path的参数，然后调整到你最后一次访问的路径
        return { name: 'Login', query: { "path": to.path } }
      } 
    
      // 动态加载路由---这里需要耗时---db--ajax-
      await addDynamic()
    
      // 如果刷新出现空白的问题，那么就使用下面这行代码
      if (!to.name && hasRoute(to)) {
        return { ...to };
      }
    
      // 如果访问的是首页，就跳转到/dashboard页面-------------------------------------新增代码
      if(to.path === "/"){
        // 读取默认菜单的默认页面,需要从数据库的菜单表中去读取
        return settings.defaultPage;
      }
    
      // 查询是否注册
      return true
    })
    
    // 动态路由
    function addDynamic(){
      const userStore = useUserStore();
      // 404可以这样处理
      router.addRoute(router404)
      // 必须服务器返回的菜单和views去碰撞形成一个完整的route信息，然后注册到home下
      addDynamicRoutes(menuTreeData)
      // 同时同步到状态管理中
      userStore.menuTree = menuTreeData;
    }
    
    // 这里是获取工程目录下的views下的所以的.vue结尾的SPA页面
    const modules = import.meta.glob('../views/**/*.vue');
    function addDynamicRoutes(menuTreeData,parent){
      // 开始循环遍历菜单信息
      menuTreeData.forEach((item,index) => {
        // 准备路由数据格式
        const route = {
          path: item.path,
          name: item.name,
          // 增加访问路径的元数据信息
          meta: {name: item.name,icon:item.icon},
          children:[]
        }
        // 如果存在parent,就说明有children
        if(parent){
          if(item.parentId!==0){
            // 这里就开始给子菜单匹配views下面的页面spa
            const compParr = item.path.replace("/", "").split("/");
            const l = compParr.length - 1; 
            const compPath = compParr
              .map((v, i) => {
                return i === l ? v.replace(/\w/, (L) => L.toUpperCase()) + ".vue" : v;
              })
              .join("/");
            route.path = compParr[l];
            // 设置动态组件
            route.component = modules[`../views/${compPath}`];
            parent.children.push(route);
          }
        }else{
          // 判断你是否有children
          if (item.children && item.children.length > 0) {
            // 这里的含义是：把匹配到菜单数据第一项作为首页的入口页面
            // /order-----redirect-----/order/list
            route.redirect = item.children[0].path;
            route.component = PageMain;
            // 递归
            addDynamicRoutes(item.children, route)
          }else{
            //route.component = modules[`../views/${item.name}.vue`] 
            route.component = modules[`../views/${item.name.toLowerCase()}/Index.vue`] 
          }
          router.addRoute("Home", route);
        }
      })
    }
    
    // 判断当前路由是否存在动态添加的路由数据中
    function hasRoute(to) {
      const item = router.getRoutes().find((item) => item.path === to.path);
      return !!item;
    }
    
    router.afterEach(() => {
      //完成进度条
      NProgress.done()
    })
    
    export default router
    
    ```

    

2：在数据库进行配置,其实就给菜单增加一个默认菜单。并且是唯一的



## 2. 关于菜单伸缩处理自适应问题

控制右侧菜单的折叠和隐藏，然后小屏幕也可以进行一些适配。主要实现的方式是如下：

1： 监听浏览器屏幕的宽度 ，并且 如果浏览器屏幕的宽度<992px 就会进行折叠

```js
// 获取屏幕宽度
const screenWidth = ref(window.innerWidth)
onMounted(() => {
  // 然后监听浏览器的窗口resize事件，只要浏览器发生大小的变化就会触发。
  window.addEventListener("resize", () => {
    screenWidth.value = window.innerWidth
  })
})

//watch监听屏幕宽度的变化，进行侧边栏的收缩和展开
watch(screenWidth, (newValue, oldValue) => {
    // 如果浏览器的宽度小于992px时候就会菜单的处理折叠状态
    isCollapse.value = newValue < 992
})
```

2： 如果要控制隐藏那么你可以进行隐藏状态的控制

可配置性：src/settings.js

```js
export default {
  // 配置首页访问的时候，自动跳转到你指定defaultPage
  defaultPage: {path:"/dashboard",replace:true},
  // 指定菜单导航的个数
  menuCount: 10,
  // 菜单折叠屏幕宽度的大小
  collapseWidth: 992,
  // 菜单隐藏屏幕宽度的大小
  hiddenWidth: 640,
}

```

然后修改layout/PageSilder.vue如下：

```js
<template>
  <div class="page-sidebar" v-show="isHidden">
    <div class="collape-bar">
      <el-icon class="cursor" @click="isCollapse = !isCollapse">
        <expand v-if="isCollapse" />
        <fold v-else />
      </el-icon>
    </div>
    <el-menu 
      active-text-color="#333" 
      background-color="#ffffff" 
      text-color="#333" 
      router
      :default-active="defaultActive" 
      class="sidemenu" 
      :collapse="isCollapse">
      <template v-for="(item, i) in menuTree" :key="i">
        <template v-if="item.children && item.children.length">
          <el-sub-menu :index="item.path">
            <template #title>
              <el-icon v-if="item.icon">
                <component :is="item.icon"></component>
              </el-icon>
              <span>{{ t(`menu.${item.name}`) }}</span>
            </template>
              <template v-for="(child, ci) in item.children" :key="ci">
                <el-menu-item :index="child.path">
                  <el-icon>
                    <component :is="child.icon"></component>
                  </el-icon>
                  {{ t(`menu.${child.name}`) }}
                </el-menu-item>
            </template>
          </el-sub-menu>
        </template>
        <template v-else>
          <el-menu-item :index="item.path">
            <el-icon v-if="item.icon">
              <component :is="item.icon"></component>
            </el-icon>
            <span>{{ t(`menu.${item.name}`) }}</span>
          </el-menu-item>
        </template>
      </template>
    </el-menu>
  </div>
</template>
  
<script  setup>
import { useUserStore } from '@/stores/user.js'
import settings from '@/settings.js'
// 这个是用来获取当前访问的路由信息,
const route = useRoute();
const { t } = useI18n();
// 默认情况下不折叠
const isCollapse = ref(false)
const isHidden = ref(true)
// 根据当前路由来激活菜单
const defaultActive = computed(()=>(route.path))
// 获取状态管理的菜单信息
const userStore = useUserStore();
// 如何获取菜单数据呢？
const menuTree = computed(()=>userStore.menuTree)

// 获取屏幕宽度
const screenWidth = ref(window.innerWidth)
onMounted(() => {
  // 然后监听浏览器的窗口resize事件，只要浏览器发生大小的变化就会触发。
  window.addEventListener("resize", () => {
    screenWidth.value = window.innerWidth
  })
})

//watch监听屏幕宽度的变化，进行侧边栏的收缩和展开
watch(screenWidth, (newValue, oldValue) => {
    // 如果浏览器的宽度小于992px时候就会菜单的处理折叠状态
    isCollapse.value = newValue < settings.collapseWidth
    isHidden.value = !(newValue < settings.hiddenWidth)
})

</script>
<style lang="scss">
$slider-width: 180px;
.page-sidebar {
  height: calc(100vh - 90px);
  overflow: hidden auto;
  .sidemenu.el-menu,
  .sidemenu .el-sub-menu>.el-menu {
    --el-menu-text-color: #ccc;
    --el-menu-hover-bg-color: #060251;
    --el-menu-border-color: transparent;
    --el-menu-bg-color: #001529;

    .el-menu-item {
      &.is-active {
        background-color: #e6f7ff;
        color: #1890ff
      }
    }
  }

   /* elmenu菜单的折叠效果是通过属性：
      :collapse="isCollapse"  原理就在控制在不停切换elmenu="el-menu--collapse"样式信息
      1：ture 就折叠，就会使用图标宽度+padding作为菜单宽度
      2: false 就不折叠，那么就使用默认宽度：200px

      下面这行css是什么意思：
      如果菜单上存在el-menu--collapse样式就说明是折叠状态，就使用图标宽度+padding作为菜单宽度
      否则：就用我的width:200作为菜单宽度
   */
  .sidemenu.el-menu:not(.el-menu--collapse) {
    width: $slider-width;
  }

  .collape-bar {
    color: #333;
    font-size: 16px;
    line-height: 36px;
    position: fixed;
    z-index: 2;
    width: 100%;
    left:20px;
    bottom: 0;
    .c-icon {
      cursor: pointer;
    }
  }
}
</style>
```



## 3. 控制面板

views/dashboard/Index.vue

部分相关的样式信息在 src\assets\base.css 中有。

```vue
<template>
    <div class="page admin-box" element-loading-text="正在加载中">
        <div class="gva-card-box">
            <div class="gva-card gva-top-card">
                <div class="gva-top-card-left">
                    <div class="gva-top-card-left-title">早安，管理员，请开始一天的工作吧</div>
                    <div class="gva-top-card-left-dot">今日晴，0℃ - 10℃，天气寒冷，注意添加衣物。</div>
                    <div class="gva-top-card-left-rows">
                        <div class="el-row">
                            <div class="el-col el-col-8 el-col-xs-24 el-col-sm-8">
                                <div class="flex-center"><i 
                                        class="el-icon dashboard-icon"><svg 
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
                                            <path fill="currentColor"
                                                d="M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632V96zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z">
                                            </path>
                                        </svg></i> 今日流量 (1231231) </div>
                            </div>
                            <div class="el-col el-col-8 el-col-xs-24 el-col-sm-8">
                                <div class="flex-center"><i 
                                        class="el-icon dashboard-icon"><svg 
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
                                            <path fill="currentColor"
                                                d="M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704l116.736-175.104zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0z">
                                            </path>
                                        </svg></i> 总用户数 (24001) </div>
                            </div>
                            <div class="el-col el-col-8 el-col-xs-24 el-col-sm-8">
                                <div class="flex-center"><i 
                                        class="el-icon dashboard-icon"><svg 
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
                                            <path fill="currentColor"
                                                d="M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zM128 128v640h192v160l224-160h352V128H128z">
                                            </path>
                                        </svg></i> 好评率 (99%) </div>
                            </div>
                        </div>
                    </div>
                    <div >
                        <div class="gva-top-card-left-item"> 使用教学： <a 
                                target="view_window" href="https://www.bilibili.com/video/BV1Rg411u7xH/"
                                style="color: rgb(64, 158, 255);">https://www.bilibili.com/video/BV1Rg411u7xH</a></div>
                        <div class="gva-top-card-left-item"> 插件仓库： <a 
                                target="view_window" href="https://plugin.gin-vue-admin.com/#/layout/home"
                                style="color: rgb(64, 158, 255);">https://plugin.gin-vue-admin.com</a></div>
                    </div>
                </div><img src="https://demo.gin-vue-admin.com/assets/dashboard-70e55b71.png"
                    class="gva-top-card-right" alt="">
            </div>
        </div>
        <div class="gva-card-box">
            <div class="el-card is-always-shadow gva-card quick-entrance">
                <div class="el-card__header">
                    <div class="card-header"><span >快捷入口</span></div>
                </div>
                <div class="el-card__body" style="">
                    <div class="el-row" style="margin-left: -10px; margin-right: -10px;">
                        <div class="el-col el-col-4 el-col-xs-8 is-guttered quick-entrance-items"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="quick-entrance-item">
                                <div class="quick-entrance-item-icon"
                                    style="background-color: rgba(255, 156, 110, 0.3);"><i 
                                        class="el-icon"><svg xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 1024 1024" style="color: rgb(255, 156, 110);">
                                            <path fill="currentColor"
                                                d="M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H544zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H192z">
                                            </path>
                                        </svg></i></div>
                                <p >用户管理</p>
                            </div>
                        </div>
                        <div class="el-col el-col-4 el-col-xs-8 is-guttered quick-entrance-items"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="quick-entrance-item">
                                <div class="quick-entrance-item-icon"
                                    style="background-color: rgba(105, 192, 255, 0.3);"><i 
                                        class="el-icon"><svg xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 1024 1024" style="color: rgb(105, 192, 255);">
                                            <path fill="currentColor"
                                                d="M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z">
                                            </path>
                                        </svg></i></div>
                                <p >角色管理</p>
                            </div>
                        </div>
                        <div class="el-col el-col-4 el-col-xs-8 is-guttered quick-entrance-items"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="quick-entrance-item">
                                <div class="quick-entrance-item-icon"
                                    style="background-color: rgba(179, 127, 235, 0.3);"><i 
                                        class="el-icon"><svg xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 1024 1024" style="color: rgb(179, 127, 235);">
                                            <path fill="currentColor"
                                                d="M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z">
                                            </path>
                                        </svg></i></div>
                                <p >菜单管理</p>
                            </div>
                        </div>
                        <div class="el-col el-col-4 el-col-xs-8 is-guttered quick-entrance-items"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="quick-entrance-item">
                                <div class="quick-entrance-item-icon"
                                    style="background-color: rgba(255, 214, 102, 0.3);"><i 
                                        class="el-icon"><svg xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 1024 1024" style="color: rgb(255, 214, 102);">
                                            <path fill="currentColor"
                                                d="M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H320zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128z">
                                            </path>
                                            <path fill="currentColor"
                                                d="M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zM64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32z">
                                            </path>
                                        </svg></i></div>
                                <p >代码生成器</p>
                            </div>
                        </div>
                        <div class="el-col el-col-4 el-col-xs-8 is-guttered quick-entrance-items"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="quick-entrance-item">
                                <div class="quick-entrance-item-icon"
                                    style="background-color: rgba(255, 133, 192, 0.3);"><i 
                                        class="el-icon"><svg xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 1024 1024" style="color: rgb(255, 133, 192);">
                                            <path fill="currentColor"
                                                d="M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312L478.4 646.144z">
                                            </path>
                                        </svg></i></div>
                                <p >表单生成器</p>
                            </div>
                        </div>
                        <div class="el-col el-col-4 el-col-xs-8 is-guttered quick-entrance-items"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="quick-entrance-item">
                                <div class="quick-entrance-item-icon"
                                    style="background-color: rgba(92, 219, 211, 0.3);"><i 
                                        class="el-icon"><svg xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 1024 1024" style="color: rgb(92, 219, 211);">
                                            <path fill="currentColor"
                                                d="M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z">
                                            </path>
                                        </svg></i></div>
                                <p >关于我们</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="gva-card-box">
            <div class="gva-card">
                <div class="card-header"><span >数据统计</span></div>
                <div class="echart-box">
                    <div class="el-row" style="margin-left: -10px; margin-right: -10px;">
                        <div class="el-col el-col-24 el-col-xs-24 el-col-sm-18 is-guttered"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="dashboard-line-box">
                                <div class="dashboard-line-title"> 访问趋势 </div>
                                <div class="dashboard-line" _echarts_instance_="ec_1691233547121"
                                    style="user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
                                    <div
                                        style="position: relative; width: 1177px; height: 360px; padding: 0px; margin: 0px; border-width: 0px; cursor: default;">
                                        <canvas data-zr-dom-id="zr_0" width="1177" height="360"
                                            style="position: absolute; left: 0px; top: 0px; width: 1177px; height: 360px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding: 0px; margin: 0px; border-width: 0px;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="el-col el-col-24 el-col-xs-24 el-col-sm-6 is-guttered"
                            style="padding-right: 10px; padding-left: 10px;">
                            <div class="commit-table">
                                <div class="commit-table-title"> 更新日志 </div>
                                <div class="log">
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key top">1</span></div>
                                        <div class="flex-5 flex message">feat: update ci add
                                            CGO_ENABLED=0 (#1497)</div>
                                        <div class="flex-3 flex form">2023-08-04</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key top">2</span></div>
                                        <div class="flex-5 flex message">集成tailwindcss 替换新的登陆页面和版权信息组件
                                            (#1499)

                                            * 集成tailwindcss

                                            * fix: 修改登录，init 页面

                                            * Update package.json

                                            * 升级可升级的第三方库到新版本

                                            * 细节调整

                                            ---------

                                            Co-authored-by: bypanghu &lt;bypanghu@163.com&gt;
                                            Co-authored-by: task &lt;121913992@qq.com&gt;</div>
                                        <div class="flex-3 flex form">2023-08-04</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key top">3</span></div>
                                        <div class="flex-5 flex message">fix: macos和linux下代码定位命令不对 #1495
                                            (#1496)</div>
                                        <div class="flex-3 flex form">2023-08-02</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key">4</span></div>
                                        <div class="flex-5 flex message">Rename outer.go to other.go
                                            (#1490)</div>
                                        <div class="flex-3 flex form">2023-08-02</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key">5</span></div>
                                        <div class="flex-5 flex message">feat: use description to name
                                            apiGroup (#1494)</div>
                                        <div class="flex-3 flex form">2023-08-01</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key">6</span></div>
                                        <div class="flex-5 flex message">Merge pull request #1483 from
                                            ChengDaqi2023/oscs_fix_cis9at8au51vj78hfkt0

                                            fix(sec): upgrade golang.org/x/image to 0.5.0</div>
                                        <div class="flex-3 flex form">2023-07-21</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key">7</span></div>
                                        <div class="flex-5 flex message">update golang.org/x/image
                                            v0.0.0-20210220032944-ac19c3e999fb to 0.5.0</div>
                                        <div class="flex-3 flex form">2023-07-20</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key">8</span></div>
                                        <div class="flex-5 flex message">修复marked问题</div>
                                        <div class="flex-3 flex form">2023-07-19</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key">9</span></div>
                                        <div class="flex-5 flex message">增加多图片自动生成功能</div>
                                        <div class="flex-3 flex form">2023-07-18</div>
                                    </div>
                                    <div class="log-item">
                                        <div class="flex-1 flex key-box"><span data-v-144ac47f=""
                                                class="key">10</span></div>
                                        <div class="flex-5 flex message">修复element2.3.8以上i18n的问题</div>
                                        <div class="flex-3 flex form">2023-07-17</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
import { handleLoadMenus } from '@/api/sysmenu.js'


const handleLoadMenusData = async () => {
    const menuDatas = await handleLoadMenus()
    console.log('menuDatas', menuDatas)
}

onMounted(() => {
    handleLoadMenusData()
})
</script> 

<style lang="scss" scoped>

.page {
    background: #f0f2f5;
}

.page .gva-card-box {
    padding: 12px 16px
}

.page .gva-card-box+.gva-card-box {
    padding-top: 0
}

.page .gva-card {
    box-sizing: border-box;
    background-color: #fff;
    border-radius: 2px;
    height: auto;
    padding: 26px 30px;
    overflow: hidden;
    box-shadow: 0 0 7px 1px rgba(0, 0, 0, .03)
}

.page .gva-top-card {
    height: 260px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #777
}

.page .gva-top-card-left {
    height: 100%;
    display: flex;
    flex-direction: column
}

.page .gva-top-card-left-title {
    font-size: 22px;
    color: #343844
}

.page .gva-top-card-left-dot {
    font-size: 16px;
    color: #6b7687;
    margin-top: 24px
}

.page .gva-top-card-left-rows {
    margin-top: 18px;
    color: #6b7687;
    width: 600px;
    align-items: center
}

.page .gva-top-card-left-item {
    margin-top: 14px
}

.page .gva-top-card-left-item+.gva-top-card-left-item {
    margin-top: 24px
}

.page .gva-top-card-right {
    height: 600px;
    width: 600px;
    margin-top: 28px
}

.page .el-card__header {
    padding: 0;
    border-bottom: none
}

.page .card-header {
    padding-bottom: 20px;
    border-bottom: 1px solid #e8e8e8
}

.page .quick-entrance-title {
    height: 30px;
    font-size: 22px;
    color: #333;
    width: 100%;
    border-bottom: 1px solid #eee
}

.page .quick-entrance-items {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: #333
}

.page .quick-entrance-items .quick-entrance-item {
    padding: 16px 28px;
    margin-top: -16px;
    margin-bottom: -16px;
    border-radius: 4px;
    transition: all .2s;
    cursor: pointer;
    height: auto;
    text-align: center
}

.page .quick-entrance-items .quick-entrance-item:hover {
    box-shadow: 0 0 7px rgba(217, 217, 217, .55)
}

.page .quick-entrance-items .quick-entrance-item-icon {
    width: 50px;
    height: 50px !important;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto
}

.page .quick-entrance-items .quick-entrance-item-icon i {
    font-size: 24px
}

.page .quick-entrance-items .quick-entrance-item p {
    margin-top: 10px
}

.page .echart-box {
    padding: 14px
}

.dashboard-icon {
    font-size: 20px;
    color: #55a0f8;
    width: 30px;
    height: 30px;
    margin-right: 10px;
    display: flex;
    align-items: center
}

.flex-center {
    display: flex;
    align-items: center
}

@media (max-width: 750px) {
    .gva-card {
        padding: 20px 10px !important
    }

    .gva-card .gva-top-card {
        height: auto
    }

    .gva-card .gva-top-card-left-title {
        font-size: 20px !important
    }

    .gva-card .gva-top-card-left-rows {
        margin-top: 15px;
        align-items: center
    }

    .gva-card .gva-top-card-right {
        display: none
    }

    .gva-card .gva-middle-card-item {
        line-height: 20px
    }

    .gva-card .dashboard-icon {
        font-size: 18px
    }
}

.commit-table {
    background-color: #fff;
    height: 400px
}

.commit-table-title {
    font-weight: 600;
    margin-bottom: 12px
}

.commit-table .log-item {
    display: flex;
    justify-content: space-between;
    margin-top: 14px
}

.commit-table .log-item .key-box {
    justify-content: center
}

.commit-table .log-item .key {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #F0F2F5;
    text-align: center;
    color: rgba(0, 0, 0, .65)
}

.commit-table .log-item .key.top {
    background: #314659;
    color: #fff
}

.commit-table .log-item .message {
    color: rgba(0, 0, 0, .65)
}

.commit-table .log-item .form {
    color: rgba(0, 0, 0, .65);
    margin-left: 12px
}

.commit-table .log-item .flex {
    line-height: 20px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap
}

.commit-table .log-item .flex-1 {
    flex: 1
}

.commit-table .log-item .flex-2 {
    flex: 2
}

.commit-table .log-item .flex-3 {
    flex: 3
}

.commit-table .log-item .flex-4 {
    flex: 4
}

.commit-table .log-item .flex-5 {
    flex: 5
}</style>
```

关于统计报表的处理和安装

1: 安装echarts

```
npm install echarts
```

2: 定义组件

```vue
<template>
    <div id="orderCharts" style="height:400px;width: 100%;">111111</div>
</template>

<script setup>
// 1: 引入echarts
import * as echarts from 'echarts';

    // 2: 开始定义统计报表 
const handleLoadCharts = () => {
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('orderCharts'));
    // 绘制图表
    myChart.setOption({
        color: ['#80FFA5', '#00DDFF', '#37A2FF', '#FF0087', '#FFBF00'],
        title: {
            text: ''
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
            }
        },
        legend: {
            data: ['Line 1', 'Line 2', 'Line 3', 'Line 4', 'Line 5']
        },
        toolbox: {
            feature: {
            saveAsImage: {}
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
            type: 'category',
            boundaryGap: false,
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            }
        ],
        yAxis: [
            {
            type: 'value'
            }
        ],
        series: [
            {
            name: 'Line 1',
            type: 'line',
            stack: 'Total',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                {
                    offset: 0,
                    color: 'rgb(128, 255, 165)'
                },
                {
                    offset: 1,
                    color: 'rgb(1, 191, 236)'
                }
                ])
            },
            emphasis: {
                focus: 'series'
            },
            data: [140, 232, 101, 264, 90, 340, 250]
            },
            {
            name: 'Line 2',
            type: 'line',
            stack: 'Total',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                {
                    offset: 0,
                    color: 'rgb(0, 221, 255)'
                },
                {
                    offset: 1,
                    color: 'rgb(77, 119, 255)'
                }
                ])
            },
            emphasis: {
                focus: 'series'
            },
            data: [120, 282, 111, 234, 220, 340, 310]
            },
            {
            name: 'Line 3',
            type: 'line',
            stack: 'Total',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                {
                    offset: 0,
                    color: 'rgb(55, 162, 255)'
                },
                {
                    offset: 1,
                    color: 'rgb(116, 21, 219)'
                }
                ])
            },
            emphasis: {
                focus: 'series'
            },
            data: [320, 132, 201, 334, 190, 130, 220]
            },
            {
            name: 'Line 4',
            type: 'line',
            stack: 'Total',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                {
                    offset: 0,
                    color: 'rgb(255, 0, 135)'
                },
                {
                    offset: 1,
                    color: 'rgb(135, 0, 157)'
                }
                ])
            },
            emphasis: {
                focus: 'series'
            },
            data: [220, 402, 231, 134, 190, 230, 120]
            },
            {
            name: 'Line 5',
            type: 'line',
            stack: 'Total',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            label: {
                show: true,
                position: 'top'
            },
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                {
                    offset: 0,
                    color: 'rgb(255, 191, 0)'
                },
                {
                    offset: 1,
                    color: 'rgb(224, 62, 76)'
                }
                ])
            },
            emphasis: {
                focus: 'series'
            },
            data: [220, 302, 181, 234, 210, 290, 150]
            }
        ]
        });
}

onMounted(() => {
    handleLoadCharts()
})
</script>
<style lang="scss" scoped></style>
```

3: 使用组件

vue3如下：

```vue
<template>
	 <div class="dashboard-line-box">
       <order-stat-charts></order-stat-charts>
    </div>
</template>

<script setup>
import OrderStatCharts from './compoments/OrderStatCharts.vue';
</script>

```

vue2的如下：

```vue
<template>
	 <div class="dashboard-line-box">
       <order-stat-charts></order-stat-charts>
    </div>
</template>
<script > 
import OrderStatCharts from './compoments/OrderStatCharts.vue';
export default ({
    components:{
        OrderStatCharts
    },
    data(){
        return {
            
        }
    }
})
</script>

```













